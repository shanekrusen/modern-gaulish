<!DOCTYPE html>

<% if browser.device.mobile? %>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<% else %>
	<meta name="viewport" content="width=device-width, initial-scale=1">
<% end %>
<meta name="HandheldFriendly" content="true">
<meta name="theme-color" content="#19413C">

<html>
  <head>
    <title>The Modern Gaulish Language</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  	<link rel="icon" type="image/png" href="data:image/png;base64,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">
  	<meta property="og:url" content="http://moderngaulish.herokuapp.com/" />
	<meta property="og:type" content="website" />
	<meta property="og:image" content="http://i.imgur.com/iv9Kw9M.jpg" />
	<meta property="og:title" content="The Modern Gaulish Language" />
  </head>

  <body>
  	<% if notice.present? %>
	    <div class="alert alert-info" id="user_alert">
	    	<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
	    	<%= notice %>
	    </div>
	<% end %>
    <% if alert.present? %>
	    <div class="alert alert-danger" id ="user_alert">
	    	<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
	    	<%= alert %>
	    </div>
	<% end %>
	
	<div class="navbar-container">
		<div class="navbar-brand-link">
			<%= link_to 'Modern Gaulish', root_path, class: "navbar-brand", id: "navbar-brand-id" %>
		</div>
		<div class="navbar-middle-left">
			<p><%= link_to 'Forum', forum_path, id: "nav-link-id" %>&nbsp;&nbsp;&nbsp;&nbsp;</p>
			<div class="grammar-desktop-wrapper">
				<div class="grammar-desktop-container">
					<p style="cursor: pointer;" class="grammar-desktop" id="nav-link-id">Grammar &#x21C2;</p>
				</div>
				<div class="grammar-desktop-menu">
					<%= link_to 'Introduction', introduction_path, class: "collapse-link", id:"nav-link-id" %><br />
					<%= link_to 'Orthography', orthography_path, class: "collapse-link", id:"nav-link-id" %><br />
					<%= link_to 'Phonology', phonology_path, class: "collapse-link", id:"nav-link-id" %><br />
					<%= link_to 'Sound Changes', sound_changes_path, class: "collapse-link", id:"nav-link-id" %><br />
				</div>
			</div>
		</div>
		<div class="navbar-middle-right">
			<% if user_signed_in? %>
				<div class="notifications-desktop-wrapper">
					<div class="notifications-desktop-container">
						<span class="collapse-link glyphicon glyphicon-exclamation-sign" style="cursor: pointer;"> <%= current_user.user_notifications.count %></span>
					</div>
					<div class="notification-breakpoint-menu">
						<% if user_signed_in? %>
							<% if current_user.user_notifications.present? %>
								<% current_user.user_notifications.each do |notification| %>
									<p class="collapse-link"><%= notification.notification %></p>
									<p class="collapse-link"><%= link_to notification.post.title, user_notification_path(notification), method: :delete, class: "collapse-link", id: "nav-link-id" %></p>
								<% end %>
							<% else %>
								<p class="collapse-link">No Notifications</p>
							<% end %>
						<% end %>
					</div>
				</div>&nbsp;&nbsp;&nbsp;&nbsp;
				<p><%= link_to 'My Account', user_path(current_user), id: "nav-link-id" %>
  				<p>&nbsp;&nbsp;&nbsp;&nbsp;<%= link_to 'Sign out', destroy_user_session_path, method: :delete, id: "nav-link-id" %></p>
			<% else %>
  				<p><%= link_to 'Sign In', new_user_session_path, id: "nav-link-id" %></p>
  				<p>&nbsp;&nbsp;&nbsp;&nbsp;<%= link_to 'Sign Up', new_user_registration_path, id: "nav-link-id" %></p>
			<% end %>
		</div>
		<div class="navbar-button">
			<button type="button" class="navbar-toggle-button">
		        <span class="glyphicon glyphicon-menu-hamburger"></span>
	      	</button>
		</div>
	</div>
	
	<div class="breakpoint-collapse-container">
		<%= link_to 'Forum', forum_path, class: "collapse-link", id: "nav-link-id" %></p>
		<% if user_signed_in? %>
			<p class="notification-toggle-button collapse-link" id="nav-link-id" style="cursor: pointer;"><%= current_user.user_notifications.count %> Notifications &#x21C2;</p>
			<div class="notifications-collapsed-menu">
				<% if current_user.user_notifications.present? %>
					<% current_user.user_notifications.each do |notification| %>
						<p class="collapse-link"><%= notification.notification %></p>
						<p class="collapse-link"><%= link_to notification.post.title, user_notification_path(notification), method: :delete, class: "collapse-link", id: "nav-link-id" %></p>
					<% end %>
				<% else %>
					<p class="collapse-link">No Notifications</p>
				<% end %>
			</div>
			<p><%= link_to 'My Account', user_path(current_user), class: "collapse-link", id: "nav-link-id" %>
			<p><%= link_to 'Sign out', destroy_user_session_path, method: :delete, class: "collapse-link", id: "nav-link-id" %></p>
		<% else %>
			<p><%= link_to 'Sign In', new_user_session_path, class: "collapse-link", id: "nav-link-id" %></p>
			<p><%= link_to 'Sign Up', new_user_registration_path, class: "collapse-link", id: "nav-link-id" %></p>
		<% end %>
		<div class="grammar-mobile-wrapper">
			<p style="cursor: pointer;" id="nav-link-id" class="grammar collapse-link">Grammar &#x21C2;</p>
			<div class="grammar-box">
				<%= link_to 'Introduction', introduction_path, class: "collapse-link", id:"nav-link-id" %><br />
				<%= link_to 'Orthography', orthography_path, class: "collapse-link", id:"nav-link-id" %><br />
				<%= link_to 'Phonology', phonology_path, class: "collapse-link", id:"nav-link-id" %><br />
				<%= link_to 'Sound Changes', sound_changes_path, class: "collapse-link", id:"nav-link-id" %><br />
				<%= link_to 'Personal Pronouns', personal_pronouns_path, class: "collapse-link", id: "nav-link-id" %>
			</div>
		</div>
	</div>
	
	<div style="clear: both;"></div>

    <%= yield %>
    
    <script type="text/javascript">
    	$(document).ready(function(){
    		
    		var dropDown = function( hideParameter, clickParameter) {
    			$(hideParameter).hide();
    			$(clickParameter).click(function(){
    				$(hideParameter).slideToggle();
    			});
    		};
    		
    		var activate = function(clickTarget, changeTarget) {
    			$(clickTarget).click(function() {
    				$(changeTarget).toggleClass('dark');
    			});
    		};
    		
    		dropDown('.breakpoint-collapse-container', '.navbar-toggle-button');
    		dropDown('.grammar-box', '.grammar');
    		dropDown('.grammar-desktop-menu', '.grammar-desktop');
    		dropDown('.notifications-collapsed-menu', '.notification-toggle-button');
    		dropDown('.notification-breakpoint-menu', '.glyphicon-exclamation-sign');
			
			activate('.grammar-desktop', '.grammar-desktop-wrapper');
			activate('.glyphicon-exclamation-sign', '.notifications-desktop-wrapper');
		
		});
    </script>
    
  </body>
</html>
